/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var O=["require","exports","vs/base/common/platform","vs/base/common/extpath","vs/base/common/strings","vs/base/common/network","vs/base/common/uri","vs/base/common/path","vs/base/common/resources","vs/base/common/types","vs/workbench/contrib/output/common/outputLinkComputer","vs/editor/common/core/range"],S=function(I){for(var e=[],v=0,c=I.length;v<c;v++)e[v]=O[I[v]];return e};define(O[3],S([0,1,2,4,7,9]),function(I,e,v,c,h,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function P(i){return i===47||i===92}e.isPathSeparator=P;function a(i){return i.replace(/[\\/]/g,h.posix.sep)}e.toSlashes=a;function l(i){return i.indexOf("/")===-1&&(i=a(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=l;function m(i,o=h.posix.sep){if(!i)return"";const g=i.length,C=i.charCodeAt(0);if(P(C)){if(P(i.charCodeAt(1))&&!P(i.charCodeAt(2))){let U=3;const k=U;for(;U<g&&!P(i.charCodeAt(U));U++);if(k!==U&&!P(i.charCodeAt(U+1))){for(U+=1;U<g;U++)if(P(i.charCodeAt(U)))return i.slice(0,U+1).replace(/[\\/]/g,o)}}return o}else if(u(C)&&i.charCodeAt(1)===58)return P(i.charCodeAt(2))?i.slice(0,2)+o:i.slice(0,2);let y=i.indexOf("://");if(y!==-1){for(y+=3;y<g;y++)if(P(i.charCodeAt(y)))return i.slice(0,y+1)}return""}e.getRoot=m;function b(i){if(!v.isWindows||!i||i.length<5)return!1;let o=i.charCodeAt(0);if(o!==92||(o=i.charCodeAt(1),o!==92))return!1;let g=2;const C=g;for(;g<i.length&&(o=i.charCodeAt(g),o!==92);g++);return!(C===g||(o=i.charCodeAt(g+1),isNaN(o)||o===92))}e.isUNC=b;const w=/[\\/:\*\?"<>\|]/g,d=/[\\/]/g,s=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(i,o=v.isWindows){const g=o?w:d;return!(!i||i.length===0||/^\s+$/.test(i)||(g.lastIndex=0,g.test(i))||o&&s.test(i)||i==="."||i===".."||o&&i[i.length-1]==="."||o&&i.length!==i.trim().length||i.length>255)}e.isValidBasename=t;function n(i,o,g){const C=i===o;return!g||C?C:!i||!o?!1:(0,c.equalsIgnoreCase)(i,o)}e.isEqual=n;function r(i,o,g,C=h.sep){if(i===o)return!0;if(!i||!o||o.length>i.length)return!1;if(g){if(!(0,c.startsWithIgnoreCase)(i,o))return!1;if(o.length===i.length)return!0;let U=o.length;return o.charAt(o.length-1)===C&&U--,i.charAt(U)===C}return o.charAt(o.length-1)!==C&&(o+=C),i.indexOf(o)===0}e.isEqualOrParent=r;function u(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=u;function f(i,o){return v.isWindows&&i.endsWith(":")&&(i+=h.sep),(0,h.isAbsolute)(i)||(i=(0,h.join)(o,i)),i=(0,h.normalize)(i),v.isWindows?(i=(0,c.rtrim)(i,h.sep),i.endsWith(":")&&(i+=h.sep)):(i=(0,c.rtrim)(i,h.sep),i||(i=h.sep)),i}e.sanitizeFilePath=f;function A(i){const o=(0,h.normalize)(i);return v.isWindows?i.length>3?!1:E(o)&&(i.length===2||o.charCodeAt(2)===92):o===h.posix.sep}e.isRootOrDriveLetter=A;function E(i){return v.isWindows?u(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=E;function L(i){return E(i)?i[0]:void 0}e.getDriveLetter=L;function T(i,o,g){return o.length>i.length?-1:i===o?0:(g&&(i=i.toLowerCase(),o=o.toLowerCase()),i.indexOf(o))}e.indexOfPath=T;function q(i){const o=i.split(":");let g,C,y;if(o.forEach(U=>{const k=Number(U);(0,R.isNumber)(k)?C===void 0?C=k:y===void 0&&(y=k):g=g?[g,U].join(":"):U}),!g)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:g,line:C!==void 0?C:void 0,column:y!==void 0?y:C!==void 0?1:void 0}}e.parseLineAndColumnAware=q}),define(O[5],S([0,1,6,2]),function(I,e,v,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var h;(function(a){a.inMemory="inmemory",a.vscode="vscode",a.internal="private",a.walkThrough="walkThrough",a.walkThroughSnippet="walkThroughSnippet",a.http="http",a.https="https",a.file="file",a.mailto="mailto",a.untitled="untitled",a.data="data",a.command="command",a.vscodeRemote="vscode-remote",a.vscodeRemoteResource="vscode-remote-resource",a.userData="vscode-userdata",a.vscodeCustomEditor="vscode-custom-editor",a.vscodeNotebook="vscode-notebook",a.vscodeNotebookCell="vscode-notebook-cell",a.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",a.vscodeNotebookCellOutput="vscode-notebook-cell-output",a.vscodeInteractive="vscode-interactive",a.vscodeInteractiveInput="vscode-interactive-input",a.vscodeSettings="vscode-settings",a.vscodeWorkspaceTrust="vscode-workspace-trust",a.vscodeTerminal="vscode-terminal",a.webviewPanel="webview-panel",a.vscodeWebview="vscode-webview",a.extension="extension",a.vscodeFileResource="vscode-file",a.tmp="tmp"})(h=e.Schemas||(e.Schemas={}));class R{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(l){this._preferredWebSchema=l}setDelegate(l){this._delegate=l}set(l,m,b){this._hosts[l]=m,this._ports[l]=b}setConnectionToken(l,m){this._connectionTokens[l]=m}rewrite(l){if(this._delegate)return this._delegate(l);const m=l.authority;let b=this._hosts[m];b&&b.indexOf(":")!==-1&&(b=`[${b}]`);const w=this._ports[m],d=this._connectionTokens[m];let s=`path=${encodeURIComponent(l.path)}`;return typeof d=="string"&&(s+=`&tkn=${encodeURIComponent(d)}`),v.URI.from({scheme:c.isWeb?this._preferredWebSchema:h.vscodeRemoteResource,authority:`${b}:${w}`,path:"/vscode-remote-resource",query:s})}}e.RemoteAuthorities=new R;class P{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(l,m,b){const w=this.toUri(l,m);if(w.scheme===h.vscodeRemote)return e.RemoteAuthorities.rewrite(w);let d=!1;return c.isNative&&(b||c.isPreferringBrowserCodeLoad)&&w.scheme===h.file&&(d=!0),w.scheme===h.file&&typeof c.globals.importScripts=="function"&&c.globals.origin==="vscode-file://vscode-app"&&(d=!0),d?w.with({scheme:h.vscodeFileResource,authority:w.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):w}asFileUri(l,m){const b=this.toUri(l,m);return b.scheme===h.vscodeFileResource?b.with({scheme:h.file,authority:b.authority!==this.FALLBACK_AUTHORITY?b.authority:null,query:null,fragment:null}):b}toUri(l,m){return v.URI.isUri(l)?l:v.URI.parse(m.toUrl(l))}}e.FileAccess=new P}),define(O[8],S([0,1,3,7,6,4,5,2]),function(I,e,v,c,h,R,P,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function l(s){return(0,h.uriToFsPath)(s,!0)}e.originalFSPath=l;class m{constructor(t){this._ignorePathCasing=t}compare(t,n,r=!1){return t===n?0:(0,R.compare)(this.getComparisonKey(t,r),this.getComparisonKey(n,r))}isEqual(t,n,r=!1){return t===n?!0:!t||!n?!1:this.getComparisonKey(t,r)===this.getComparisonKey(n,r)}getComparisonKey(t,n=!1){return t.with({path:this._ignorePathCasing(t)?t.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(t){return this._ignorePathCasing(t)}isEqualOrParent(t,n,r=!1){if(t.scheme===n.scheme){if(t.scheme===P.Schemas.file)return v.isEqualOrParent(l(t),l(n),this._ignorePathCasing(t))&&t.query===n.query&&(r||t.fragment===n.fragment);if((0,e.isEqualAuthority)(t.authority,n.authority))return v.isEqualOrParent(t.path,n.path,this._ignorePathCasing(t),"/")&&t.query===n.query&&(r||t.fragment===n.fragment)}return!1}joinPath(t,...n){return h.URI.joinPath(t,...n)}basenameOrAuthority(t){return(0,e.basename)(t)||t.authority}basename(t){return c.posix.basename(t.path)}extname(t){return c.posix.extname(t.path)}dirname(t){if(t.path.length===0)return t;let n;return t.scheme===P.Schemas.file?n=h.URI.file(c.dirname(l(t))).path:(n=c.posix.dirname(t.path),t.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${t.toString})) resulted in a relative path`),n="/")),t.with({path:n})}normalizePath(t){if(!t.path.length)return t;let n;return t.scheme===P.Schemas.file?n=h.URI.file(c.normalize(l(t))).path:n=c.posix.normalize(t.path),t.with({path:n})}relativePath(t,n){if(t.scheme!==n.scheme||!(0,e.isEqualAuthority)(t.authority,n.authority))return;if(t.scheme===P.Schemas.file){const f=c.relative(l(t),l(n));return a.isWindows?v.toSlashes(f):f}let r=t.path||"/",u=n.path||"/";if(this._ignorePathCasing(t)){let f=0;for(const A=Math.min(r.length,u.length);f<A&&!(r.charCodeAt(f)!==u.charCodeAt(f)&&r.charAt(f).toLowerCase()!==u.charAt(f).toLowerCase());f++);r=u.substr(0,f)+r.substr(f)}return c.posix.relative(r,u)}resolvePath(t,n){if(t.scheme===P.Schemas.file){const r=h.URI.file(c.resolve(l(t),n));return t.with({authority:r.authority,path:r.path})}return n=v.toPosixPath(n),t.with({path:c.posix.resolve(t.path,n)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,n){return t===n||(0,R.equalsIgnoreCase)(t,n)}hasTrailingPathSeparator(t,n=c.sep){if(t.scheme===P.Schemas.file){const r=l(t);return r.length>v.getRoot(r).length&&r[r.length-1]===n}else{const r=t.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,n=c.sep){return(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,n=c.sep){let r=!1;if(t.scheme===P.Schemas.file){const u=l(t);r=u!==void 0&&u.length===v.getRoot(u).length&&u[u.length-1]===n}else{n="/";const u=t.path;r=u.length===1&&u.charCodeAt(u.length-1)===47}return!r&&!(0,e.hasTrailingPathSeparator)(t,n)?t.with({path:t.path+"/"}):t}}e.ExtUri=m,e.extUri=new m(()=>!1),e.extUriBiasedIgnorePathCase=new m(s=>s.scheme===P.Schemas.file?!a.isLinux:!0),e.extUriIgnorePathCase=new m(s=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function b(s,t){const n=[];for(let r=0;r<s.length;r++){const u=t(s[r]);s.some((f,A)=>A===r?!1:(0,e.isEqualOrParent)(u,t(f)))||n.push(s[r])}return n}e.distinctParents=b;var w;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function t(n){const r=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(A=>{const[E,L]=A.split(":");E&&L&&r.set(E,L)});const f=n.path.substring(0,n.path.indexOf(";"));return f&&r.set(s.META_DATA_MIME,f),r}s.parseMetaData=t})(w=e.DataUri||(e.DataUri={}));function d(s,t,n){if(t){let r=s.path;return r&&r[0]!==c.posix.sep&&(r=c.posix.sep+r),s.with({scheme:n,authority:t,path:r})}return s.with({scheme:n})}e.toLocalResource=d}),define(O[10],S([0,1,6,3,8,4,11,2,5]),function(I,e,v,c,h,R,P,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.OutputLinkComputer=void 0;class m{constructor(d,s){this.ctx=d,this.patterns=new Map,this.computePatterns(s)}computePatterns(d){const s=d.workspaceFolders.sort((t,n)=>n.length-t.length).map(t=>v.URI.parse(t));for(const t of s){const n=m.createPatterns(t);this.patterns.set(t,n)}}getModel(d){return this.ctx.getMirrorModels().find(t=>t.uri.toString()===d)}computeLinks(d){const s=this.getModel(d);if(!s)return[];const t=[],n=R.splitLines(s.getValue());for(const[r,u]of this.patterns){const f={toResource:A=>typeof A=="string"?h.joinPath(r,A):null};for(let A=0,E=n.length;A<E;A++)t.push(...m.detectLinks(n[A],A+1,u,f))}return t}static createPatterns(d){const s=[],t=d.scheme===l.Schemas.file?d.fsPath:d.path,n=[t];a.isWindows&&d.scheme===l.Schemas.file&&n.push(c.toSlashes(t));for(const r of n){const u='[^\\s\\(\\):<>"]',A=`${`(?:${u}| ${u})`}+\\.${u}+`,E=`${u}+`;s.push(new RegExp(R.escapeRegExpCharacters(r)+`(${A}) on line ((\\d+)(, column (\\d+))?)`,"gi")),s.push(new RegExp(R.escapeRegExpCharacters(r)+`(${A}):line ((\\d+)(, column (\\d+))?)`,"gi")),s.push(new RegExp(R.escapeRegExpCharacters(r)+`(${A})(\\s?\\((\\d+)(,(\\d+))?)\\)`,"gi")),s.push(new RegExp(R.escapeRegExpCharacters(r)+`(${E})(:(\\d+))?(:(\\d+))?`,"gi"))}return s}static detectLinks(d,s,t,n){const r=[];return t.forEach(u=>{u.lastIndex=0;let f,A=0;for(;(f=u.exec(d))!==null;){const E=R.rtrim(f[1],".").replace(/\\/g,"/");let L;try{const o=n.toResource(E);o&&(L=o.toString())}catch(o){continue}if(f[3]){const o=f[3];if(f[5]){const g=f[5];L=R.format("{0}#{1},{2}",L,o,g)}else L=R.format("{0}#{1}",L,o)}const T=R.rtrim(f[0],"."),q=d.indexOf(T,A);A=q+T.length;const i={startColumn:q+1,startLineNumber:s,endColumn:q+1+T.length,endLineNumber:s};if(r.some(o=>P.Range.areIntersectingOrTouching(o.range,i)))return;r.push({range:i,url:L})}}),r}}e.OutputLinkComputer=m;function b(w,d){return new m(w,d)}e.create=b})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/ba0df885e9d6b0f0ccf2cc714c3fa31423572205/core/vs/workbench/contrib/output/common/outputLinkComputer.js.map
